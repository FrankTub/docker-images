Oracle Business Intelligence & Oracle Database
===============
Sample Docker Compose files to automate installation, configuration, and environment setup. Docker Compose is a tool for defining and running multi-container Docker applications. 
Docker Compose will build and start an Oracle Database Container required by the Oracle Business Intelligence Container and manage them as one.
For more information about Oracle Business Intelligence please see the [Oracle Business Intelligence Documentation](http://docs.oracle.com/middleware/12211/index.html). For more information about Oracle Database please see the [Oracle Database Online Documentation](http://docs.oracle.com/database/121/index.htm).

## How to build and run
This project offers sample Docker Compose and Dockerfiles for Oracle DB 12c and OBIEE 12c (12.2.1.0.0, 12.2.1.1.0 as 12.2.1.2.0) and the related script to orchestrate the two products (OBIEE waiting for the database to be ready before to execute configuration or start etc.).
The environment can be start with a single command using the [docker_compose.yml](docker_compose.yml) file. See below for instructions and usage.

### Start Oracle Business Intelligence
**IMPORTANT:** You will have to provide the installation binaries of Oracle Business Intelligence and Oracle Database and put them into the `<version>` folder of each product. You only need to provide the binaries for the version you are going to install. You also have to make sure to have internet connectivity for yum. You also need to provide the RPM of the Oracle JDK version you want to use and place it next to the OBIEE binaries.

Before you build the image make sure that you have provided the installation binaries and put them into the right folder. If binaries are missing or the checksum doesn't match the build will fail.

For OBIEE 12.2.1.2.0 execute the following command :
```
  docker-compose up -d obiee_12.2.1.2.0
```
For OBIEE 12.2.1.1.0 execute the following command :
```
  docker-compose up -d obiee_12.2.1.1.0
```
For OBIEE 12.2.1.0.0 execute the following command :
```
  docker-compose up -d obiee_12.2.1.0.0
```
If you plan to run them in parallel you must edit [docker_compose.yml](docker_compose.yml) to change the ports assigned to one of the two containers (in the provided config they use the same ports 9500-9514 and 9799).

The first execution will take longer because the tool will also automatically build the images for the database and for OBIEE. If run in parallel the 2 versions of OBIEE will share the same database container (using a different prefix for RCU during config).

### Stop Oracle Business Intelligence
To stop the running containers simple use the following command:
```
  docker-compose stop -t 120
```
The `-t 120` parameter is to give enough time to OBIEE and the database to perform a clean shutdown.

### Stop OBIEE and drop containers (losing any change you did)
To remove the containers and, at the next execution, recreate them and perform the configuration use :
```
  docker-compose down
```

### See the logs of what the containers are doing
To see the logs of generated by the containers you can use:
```
  docker-compose logs -f obiee_12.2.1.2.0
  docker-compose logs -f oracledb
```
Using this logs it will be possible to monitor when OBIEE will be started and ready for requests.

## Support
Currently Oracle Business Intelligence and Oracle Database on Docker is **NOT** supported by Oracle (AFAIK). Use these files at your own discretion.

## License
To download and run Oracle Business Intelligence and Oracle Database, regardless whether inside or outside a Docker container, you must download the binaries from the Oracle website and accept the license indicated at that page.

All scripts and files hosted in this project and GitHub [docker-images/Compose OBIEE-DB](./) repository required to build the Docker images are, unless otherwise noted, released under the Common Development and Distribution License (CDDL) 1.0 and GNU Public License 2.0 licenses.

## Copyright
Copyright (c) 2016 [DATAlysis GmbH](https://datalysis.ch). All rights reserved.
